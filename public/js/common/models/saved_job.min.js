(function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("models.saved_job",["backbone","models.event_dispatcher"],function(a,c){var d;return d=function(a){function d(a,b,c){this.user=a,d.__super__.constructor.call(this,b,c)}var e;return b(d,a),d.prototype.initialize=function(a,b){this.urlRoot=b.urlRoot,this.isSaving=!1,this.isSavedClientSide=!1},d.prototype.toggle=function(){var a,b;return this.user.signedInAsJobSeeker?void(this.isSaving||(this.isSaving=!0,a=function(a){return function(){a.isSaving=!1}}(this),this.isNew()?(this.isSavedClientSide=!0,this.save(null,{success:function(a,b,d){var e;e={notifications:b.notifications},c.trigger("saved_job:added",e)}}).done(a)):(b=this.url,this.url=e.call(this),this.destroy({success:function(a,b,d){var e;e={notifications:b.notifications},a.set("id",null),c.trigger("saved_job:deleted",e)}}).done(a),this.isSavedClientSide=!1,this.url=b))):void c.trigger("sign_in_required:job_seeker",{onAfterSignedIn:function(a){return function(){return a.toggle(),a.on("change",function(){return location.reload()})}}(this)})},d.prototype.parse=function(a,b){return a.model},d.prototype.undo=function(){this.set("undo",!0),this.toggle()},e=function(){var a;return a=this.isSavedClientSide?"?saved=true":"",this.urlRoot+"/"+this.id+a},d}(a.Model)})}).call(this);