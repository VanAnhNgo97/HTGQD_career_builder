(function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("views.navi_grid_view",["jquery","underscore","backbone","views.navi_icon_view","handlebars","jquery.bootstrap.popover"],function(a,c,d,e,f){var g;return g=function(d){function g(){return g.__super__.constructor.apply(this,arguments)}var h,i,j,k,l,m;return b(g,d),g.prototype.el=a(".navi-grid").get(0),g.prototype.template=f.compile(a("#popover-content-menu-template").html()),g.prototype.initialize=function(a,b){this.options=b,h.call(this),this.model.on("change",this.render,this)},g.prototype.show=function(){a(".navi-grid").popover({html:!0,container:"body",placement:"bottom",content:function(){return a(".popover-content-menu").html()}}).on("mouseenter",function(){return a(this).popover("show"),a(".popover").on("mouseleave",function(b){return function(){return a(b).popover("hide")}}(this))}).on("mouseleave",function(){return setTimeout(function(b){return function(){return a(".popover:hover").length?void 0:a(b).popover("hide")}}(this),100)}),this.render(),l.call(this),k.call(this)},g.prototype.render=function(){return this.model.get("notifications")>0?m.call(this):j.call(this),this},l=function(){var b;b=this.template(this.options.templateVars),a(".popover-content-menu").html(b)},k=function(){var b;b=i.call(this),c.each(b,function(b,c){return a("."+c,".popover-content-menu").prepend(b.render().el)})},i=function(){var a;return a={},this.model.get("icons").each(function(b,c){var d;d=new e({model:b,className:"grid-icon_"+b.get("id")}),a[b.get("id")]=d}),a},h=function(){this.$el.append('<i class="badge badge-notice hidden"></i>')},m=function(){this.$("i").text(this.model.get("notifications")).removeClass("hidden")},j=function(){this.$("i").text("").addClass("hidden")},g}(d.View)})}).call(this);