(function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("forms.submit_form",["jquery","forms.base_form"],function(a,c){var d;return d=function(c){function d(b,c){var g;d.__super__.constructor.call(this,b,c),g={submitButtonSelector:".btn-submit",resetButtonSelector:".btn-reset"},a.extend(!0,this.options,g,c),this.storeInitialData(),f.call(this),e.call(this)}var e,f;return b(d,c),d.prototype.submitSettings=function(){return{url:this.action(),data:this.serialize(),type:this.method()}},d.prototype.serialize=function(){return this.$form.serialize()},d.prototype.action=function(){return this.$form.attr("action")},d.prototype.method=function(){return this.$form.attr("method")},d.prototype.done=function(a,b,c){this.storeInitialData()},d.prototype.fail=function(a,b,c){409===a.status&&alert("Error!")},d.prototype.always=function(a,b,c){},d.prototype.storeInitialData=function(){this.initData={},this.$("input, textarea, select").each(function(b){return function(c,d){var e,f;e=a(d),(f=e.attr("name"))&&(b.initData[f]=e.val())}}(this))},d.prototype.submit=function(){return!this.$form.valid||this.$form.valid()?a.ajax(this.submitSettings()).done(function(a){return function(b,c,d){return a.done(b,c,d)}}(this)).fail(function(a){return function(b,c,d){return a.fail(b,c,d)}}(this)).always(function(a){return function(b,c,d){return a.always(b,c,d)}}(this)):void 0},d.prototype.reset=function(){this.$("input, textarea, select").each(function(b){return function(c,d){var e,f,g,h;e=a(d),(f=e.attr("name"))&&(g=b.initData[f],h=e.val(),e.val(g),g!==h&&e.trigger("change"))}}(this)),this.$form.valid&&this.$form.valid()},f=function(){a(document).on("click",this.form+" "+this.options.submitButtonSelector,function(a){return function(b){a.submit()}}(this))},e=function(){a(document).on("click",this.form+" "+this.options.resetButtonSelector,function(a){return function(b){a.reset()}}(this))},d}(c)})}).call(this);